unamestr=`uname`
if [[ "$unamestr" == 'Darwin' ]]; then

  # Expand save panel by default
  defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

  # Expand print panel by default
  defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true
  
  # Show battery life percentage.
  defaults write com.apple.menuextra.battery ShowPercent -string "YES"

  # Disable the warning when changing a file extension
  defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

  ########## Keyboard ##########

  # Disable press-and-hold for keys in favor of key repeat.
  defaults write -g ApplePressAndHoldEnabled -bool false

  # Set a really fast key repeat.
  defaults write NSGlobalDomain KeyRepeat -int 0

  ########## Dock ##########
  
  # Remove apps from dock
  defaults write com.apple.dock persistent-apps -array
  
  # Set size of dock
  defaults write com.apple.dock tilesize -integer 8

  # Hide the dock
  defaults write com.apple.Dock autohide -bool TRUE

  # Remove the animation when hiding/showing the Dock
  defaults write com.apple.dock autohide-time-modifier -float 0
  
  # Remove the auto-hiding Dock delay
  defaults write com.apple.dock autohide-delay -float 0
  
  # Prevent Time Machine from prompting to use new hard drives as backup volume
  defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true
  
  killall Dock
  
  ########## Requires sudo ##########
  echo '\033[91mSome settings require sudo.\033[0m'
  # Disable the sound effects on boot
  sudo nvram SystemAudioVolume=" "
fi
